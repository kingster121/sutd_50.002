module x_bit_right_shifter_2 #(
  // default value given is 8
  SHIFT = 8 : SHIFT > -1 & SHIFT < 32
  )(
    input a[32],
    input shift,
    input pad,
    output out[32]
  ) {

  mux_2 mux_2[32];
  sig shifted_bits[32];

  always {
    shifted_bits = c{SHIFTx{pad}, a[31:SHIFT]};
    mux_2.s0 = 32x{shift};
    repeat(i,32){
        mux_2.in[i][0] = a[i];
        mux_2.in[i][1] = shifted_bits[i];
    }

    out = mux_2.out;
  }
}